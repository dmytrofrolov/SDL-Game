<html>
<head>
<title>Simple timer</title>
<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>

</head>
<body>
<script type="text/javascript">
	var hours = 0, minutes = 0, seconds = 0;
	var timerWork = 0;
	var timerVar;
	$(document).ready(function(){
		$("button#start").click(function(){
			
			if(!timerWork){
				startTimer();
			}else{
				stopTimer();
			}
			
			

		});

	});

	function newTimer(){
		timerVar = setInterval(function(){updateTime();},1000);
	}

	function updateTime(){
		seconds-=1;
		document.getElementById('showtime').innerHTML = hours.toString()+" : "+minutes.toString()+" : "+seconds.toString();
		if(hours<=0 && minutes<=0 && seconds<=0){
			stopTimer();
			playSound();
			
		}
	}

	function startTimer(){
		document.getElementById('start').innerHTML = "Pause";
		hours = parseInt(document.getElementById("hours").value);
		minutes = parseInt(document.getElementById("minutes").value);
		seconds = parseInt(document.getElementById("seconds").value);
		updateTime();
		timerWork = 1;
		newTimer();
	}

	function stopTimer(){
		timerWork = 0;
		window.clearInterval(timerVar);
		document.getElementById('start').innerHTML = "Start";
	}

	function playSound(){
		alert("Stop!");
		var audio = new Audio('sound/440.wav');
		audio.play();
		audio.stop();
	}
</script>

<div>
<input id="hours" value="00">
<input id="minutes" value="00">
<input id="seconds" value="30">
<button id="start">Start</button>
</div>
<div id="showtime"></div>
</body>
</html>
